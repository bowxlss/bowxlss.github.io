<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>about-bowxlss</title>
    <!-- Prefetch / Cache -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <!-- AOS CSS for scroll reveal -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" />
    <!-- External CSS -->
    <link rel="stylesheet" href="style.css">
    <style>
        /* Typing Animation Styles */
        .typing-container {
            position: relative;
            text-align: left;
            min-height: 180px;
        }
        
        #typing-text {
            font-size: 1.1em;
            line-height: 1.6;
            color: var(--text-color);
            text-shadow: 0 0 4px black;
            white-space: pre-wrap;
            word-wrap: break-word;
            opacity: 0;
            animation: fadeInText 0.5s ease 0.5s forwards;
        }
        
        .typing-cursor {
            display: inline-block;
            width: 3px;
            height: 1.2em;
            background: var(--glow-color);
            margin-left: 2px;
            animation: blink 1s infinite;
            vertical-align: middle;
            box-shadow: 0 0 8px var(--glow-color);
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        @keyframes fadeInText {
            to { opacity: 1; }
        }

        /* NEW: Updated Header Layout Styles */
        .header {
            padding: 40px 20px 30px 20px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
        }

        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .anime-img {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            box-shadow: 0 0 15px #002d5c, 0 0 30px var(--glow-color);
            animation: neonGlow 2.5s infinite alternate;
            margin-bottom: 15px;
        }

        .text-content {
            flex: 1;
            text-align: left;
        }

        .name-title {
            font-size: 2.8em;
            letter-spacing: 3px;
            color: #3d8cff;
            text-shadow: 0 0 8px #003d7a;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .time-greeting {
            margin: 25px 0 20px 0;
            padding: 0;
        }

        .time-greeting h2 {
            font-size: 1.6em;
            color: var(--tag-color);
            text-shadow: 0 0 12px var(--glow-color);
            margin-bottom: 8px;
            animation: gentlePulse 4s ease-in-out infinite;
        }

        .time-greeting p {
            font-size: 1.1em;
            color: var(--text-color);
            text-shadow: 0 0 6px var(--glow-color);
            font-style: italic;
            margin: 0;
            opacity: 0.9;
        }

        @keyframes gentlePulse {
            0%, 100% { 
                transform: scale(1);
                text-shadow: 0 0 12px var(--glow-color);
            }
            50% { 
                transform: scale(1.03);
                text-shadow: 0 0 20px var(--glow-color);
            }
        }

        /* NEW: XP System Styles */
        .xp-system {
            background: linear-gradient(135deg, rgba(10,20,40,0.8), rgba(61,140,255,0.2));
            border: 2px solid var(--glow-color);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 0 25px var(--glow-color);
        }

        .xp-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .xp-level {
            font-size: 1.4em;
            color: var(--tag-color);
            text-shadow: 0 0 8px var(--glow-color);
        }

        .xp-points {
            font-size: 1.1em;
            color: #ffd700;
            text-shadow: 0 0 6px #ffd700;
        }

        .xp-bar {
            width: 100%;
            height: 20px;
            background: rgba(10,20,40,0.7);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--glow-color);
            box-shadow: 0 0 8px var(--glow-color) inset;
        }

        .xp-progress {
            height: 100%;
            background: linear-gradient(90deg, #ff00ff, #3d8cff);
            border-radius: 10px;
            width: 65%;
            transition: width 2s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        .xp-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .xp-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .xp-action {
            background: rgba(61,140,255,0.1);
            border: 1px solid var(--glow-color);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .xp-action:hover {
            background: rgba(61,140,255,0.3);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px var(--glow-color);
        }

        .xp-action.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* NEW: Visitor Map Styles */
        .visitor-map {
            background: linear-gradient(135deg, rgba(10,20,40,0.9), rgba(0,100,255,0.3));
            border: 2px solid var(--glow-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }

        .map-container {
            height: 200px;
            background: rgba(5,10,21,0.8);
            border-radius: 10px;
            border: 1px solid var(--glow-color);
            position: relative;
            overflow: hidden;
        }

        .map-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff00ff;
            border-radius: 50%;
            box-shadow: 0 0 10px #ff00ff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
        }

        .visitor-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .visitor-stat {
            text-align: center;
            padding: 10px;
            background: rgba(61,140,255,0.1);
            border-radius: 8px;
            border: 1px solid var(--glow-color);
        }

        /* NEW: AI Chat Styles */
        .ai-chat {
            background: linear-gradient(135deg, rgba(10,20,40,0.9), rgba(255,0,255,0.2));
            border: 2px solid var(--glow-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }

        .chat-container {
            height: 200px;
            background: rgba(5,10,21,0.8);
            border-radius: 10px;
            border: 1px solid var(--glow-color);
            padding: 15px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .chat-message.bot {
            background: rgba(61,140,255,0.2);
            border-left: 3px solid var(--glow-color);
            margin-right: auto;
        }

        .chat-message.user {
            background: rgba(255,0,255,0.2);
            border-right: 3px solid #ff00ff;
            margin-left: auto;
            text-align: right;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 10px;
            background: rgba(10,20,40,0.7);
            border: 1px solid var(--glow-color);
            border-radius: 8px;
            color: var(--text-color);
            font-family: 'Courier New', monospace;
        }

        .chat-send {
            padding: 10px 20px;
            background: var(--glow-color);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-send:hover {
            background: #ff00ff;
            transform: scale(1.05);
        }

        /* NEW: Live Coding Styles */
        .live-coding {
            background: linear-gradient(135deg, rgba(10,20,40,0.9), rgba(0,255,255,0.2));
            border: 2px solid var(--glow-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }

        .code-editor {
            background: rgba(5,10,21,0.9);
            border: 1px solid var(--glow-color);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .editor-header {
            background: rgba(10,20,40,0.8);
            padding: 10px 15px;
            border-bottom: 1px solid var(--glow-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-title {
            color: var(--tag-color);
            font-weight: bold;
        }

        .editor-body {
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
            height: 150px;
            overflow-y: auto;
        }

        .code-line {
            margin-bottom: 5px;
        }

        .code-comment { color: #6a9955; }
        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-function { color: #dcdcaa; }
        .code-var { color: #9cdcfe; }

        .coding-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
        }

        .coding-stat {
            text-align: center;
            padding: 8px;
            background: rgba(0,255,255,0.1);
            border-radius: 6px;
            border: 1px solid #00ffff;
        }

        /* NEW: Seasonal Events Styles */
        .seasonal-events {
            background: linear-gradient(135deg, rgba(10,20,40,0.9), rgba(255,215,0,0.2));
            border: 2px solid var(--glow-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }

        .event-card {
            background: rgba(255,215,0,0.1);
            border: 1px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .event-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff0000, #ffd700, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
            background-size: 200% 100%;
            animation: rainbow 3s linear infinite;
        }

        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .event-title {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.2em;
        }

        .event-countdown {
            color: #ff6b6b;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .event-progress {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .event-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ffd700);
            border-radius: 4px;
            width: 45%;
        }

        .event-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .event-btn {
            flex: 1;
            padding: 8px;
            background: rgba(255,215,0,0.2);
            border: 1px solid #ffd700;
            border-radius: 6px;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .event-btn:hover {
            background: rgba(255,215,0,0.4);
            transform: translateY(-2px);
        }

        /* NEW: Modal for Challenges and Projects */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(10,20,40,0.95), rgba(255,215,0,0.1));
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 25px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 30px rgba(255,215,0,0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }

        .modal-title {
            color: #ffd700;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            color: #ffd700;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #ff6b6b;
            transform: scale(1.1);
        }

        .challenge-list, .project-list {
            margin: 15px 0;
        }

        .challenge-item, .project-item {
            background: rgba(255,215,0,0.1);
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .challenge-item:hover, .project-item:hover {
            background: rgba(255,215,0,0.2);
            transform: translateX(5px);
        }

        .challenge-item h4, .project-item h4 {
            color: #ffd700;
            margin: 0 0 8px 0;
            font-size: 1.1em;
        }

        .challenge-item p, .project-item p {
            margin: 0;
            color: var(--text-color);
            font-size: 0.95em;
        }

        .challenge-status, .project-status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-top: 8px;
        }

        .status-completed {
            background: rgba(0,255,0,0.2);
            color: #00ff00;
            border: 1px solid #00ff00;
        }

        .status-in-progress {
            background: rgba(255,215,0,0.2);
            color: #ffd700;
            border: 1px solid #ffd700;
        }

        .status-not-started {
            background: rgba(255,0,0,0.2);
            color: #ff6b6b;
            border: 1px solid #ff6b6b;
        }

        /* Mobile responsive for new layout */
        @media (max-width: 600px) {
            .typing-container {
                min-height: 220px;
            }
            
            #typing-text {
                font-size: 1em;
            }

            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .text-content {
                text-align: center;
            }

            .name-title {
                font-size: 2.2em;
            }

            .time-greeting h2 {
                font-size: 1.4em;
            }
            
            .time-greeting p {
                font-size: 1em;
            }

            .anime-img {
                width: 120px;
                height: 120px;
            }

            .xp-actions {
                grid-template-columns: 1fr;
            }

            .visitor-stats, .coding-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .event-actions {
                flex-direction: column;
            }

            .modal-content {
                width: 95%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Animation -->
    <div id="loading">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Video Background - Optimized -->
    <video id="video-bg" autoplay loop muted playsinline preload="auto" poster="video-poster.jpg">
        <source src="bg-video.mp4" type="video/mp4">
    </video>

    <div id="particles-js"></div>
    
    <!-- Improved Theme Toggle -->
    <button id="theme-toggle" class="theme-toggle-btn">
        <span class="theme-icon">üåô</span>
    </button>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top-btn">‚Üë</button>

    <!-- UPDATED HEADER LAYOUT -->
    <div class="header">
        <div class="header-content">
            <!-- Profile Photo on Left -->
            <div class="profile-section">
                <img src="img2.png" class="anime-img" loading="lazy" alt="Profile">
            </div>
            
            <!-- Name and Greeting on Right -->
            <div class="text-content">
                <h1 class="name-title">bowxlss</h1>
                
                <!-- Personalized Time Greeting -->
                <div class="time-greeting">
                    <h2 id="time-greeting">üåÖ Good Morning!</h2>
                    <p id="greeting-message">Perfect time for some coding and chill vibes!</p>
                </div>
                
                <!-- Tags Container -->
                <div class="tags-container">
                    <div class="tag">Gamer</div>
                    <div class="tag">Chill Vibes</div>
                    <div class="tag">Anime & Donghua</div>
                    <div class="tag">Tech Explorer</div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="section-box" data-aos="fade-up">
            <h2><span>üé§ About Me</span></h2>
            <div class="typing-container">
                <div id="typing-text"></div>
                <span class="typing-cursor"></span>
            </div>
        </div>

        <div class="hobbies" data-aos="fade-up">
            <h2><span>üéÆ Hobbies & Interests ‚ú®</span></h2>
            <ul>
                <li>üé≤ Gaming & Chill Sessions</li>
                <li>üíª Web Development & Coding</li>
                <li>üì∫ Watching Anime & Series</li>
                <li>üéµ Music & Chill Beats</li>
                <li>üõ†Ô∏è Exploring Tech & Gadgets</li>
            </ul>
        </div>

        <!-- New: Favorite Games & Music Section -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üéµ Favorite Games & Music</span></h2>
            <div class="favorites-grid">
                <div class="favorite-category">
                    <h3>üéÆ Currently Playing</h3>
                    <ul>
                        <li>GTA SAMP</li>
                        <li>Free Fire</li>
                        <li>Delta Force</li>
                        <li>Roblox</li>
                    </ul>
                </div>
                <div class="favorite-category">
                    <h3>üéß Music Vibes</h3>
                    <ul>
                        <li>Lofi Hip Hop</li>
                        <li>Chill Beats</li>
                        <li>Hip-Dut</li>
                        <li>Indie Pop</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- NEW: TERMINAL GAME SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üéÆ Dev Terminal</span></h2>
            <div class="terminal">
                <div class="terminal-header">
                    <div class="terminal-dots">
                        <span class="terminal-dot red"></span>
                        <span class="terminal-dot yellow"></span>
                        <span class="terminal-dot green"></span>
                    </div>
                    <span class="terminal-title">bowxlss@portfolio: ~/terminal</span>
                </div>
                <div class="terminal-body">
                    <div class="terminal-output" id="terminal-output">
                        <div class="terminal-line">
                            <span class="prompt">visitor@bowxlss-portfolio:~$ </span>
                            <span class="command">Welcome to Dev Terminal v3.0</span>
                        </div>
                        <div class="terminal-line">
                            <span class="output">Type 'help' to see available commands</span>
                        </div>
                        <div class="terminal-line">
                            <span class="output">Type 'game' for mini games or 'social' for links</span>
                        </div>
                        <div class="terminal-line">
                            <span class="output">Ready for input...</span>
                        </div>
                    </div>
                    <div class="terminal-input-line">
                        <span class="prompt">visitor@bowxlss-portfolio:~$ </span>
                        <input type="text" id="terminal-input" autocomplete="off" autocorrect="off" spellcheck="false">
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW: Live Stats Counter Section -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üìà Live Stats</span></h2>
            <div class="stats-grid">
                <div class="stat">
                    <div class="stat-number" data-target="1560">0</div>
                    <div class="stat-label">Website Views</div>
                </div>
                <div class="stat">
                    <div class="stat-number" data-target="24">0</div>
                    <div class="stat-label">Projects Made</div>
                </div>
                <div class="stat">
                    <div class="stat-number" data-target="127">0</div>
                    <div class="stat-label">GitHub Followers</div>
                </div>
                <div class="stat">
                    <div class="stat-number" data-target="99">0</div>
                    <div class="stat-label">Coffee Cups ‚òï</div>
                </div>
            </div>
        </div>

        <!-- NEW: XP SYSTEM SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üèÜ XP & Achievement System</span></h2>
            <div class="xp-system">
                <div class="xp-header">
                    <div class="xp-level">Level 7 Developer</div>
                    <div class="xp-points">1,250/2,000 XP</div>
                </div>
                <div class="xp-bar">
                    <div class="xp-progress"></div>
                </div>
                <div class="xp-actions">
                    <div class="xp-action" onclick="gainXP('visit')">
                        <strong>üåê Daily Visit</strong>
                        <div>+10 XP</div>
                    </div>
                    <div class="xp-action" onclick="gainXP('terminal')">
                        <strong>üíª Use Terminal</strong>
                        <div>+15 XP</div>
                    </div>
                    <div class="xp-action" onclick="gainXP('game')">
                        <strong>üéÆ Play Game</strong>
                        <div>+25 XP</div>
                    </div>
                    <div class="xp-action" onclick="gainXP('social')">
                        <strong>üì± Share Profile</strong>
                        <div>+30 XP</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW: VISITOR WORLD MAP SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üåç Visitor World Map</span></h2>
            <div class="visitor-map">
                <div class="map-container" id="world-map">
                    <!-- Map points will be generated by JavaScript -->
                </div>
                <div class="visitor-stats">
                    <div class="visitor-stat">
                        <div class="stat-number" id="countries-count">42</div>
                        <div class="stat-label">Countries</div>
                    </div>
                    <div class="visitor-stat">
                        <div class="stat-number" id="cities-count">127</div>
                        <div class="stat-label">Cities</div>
                    </div>
                    <div class="visitor-stat">
                        <div class="stat-number" id="visitors-count">1.5K</div>
                        <div class="stat-label">Visitors</div>
                    </div>
                    <div class="visitor-stat">
                        <div class="stat-number" id="online-count">24</div>
                        <div class="stat-label">Online Now</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW: AI CHAT COMPANION SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>ü§ñ AI Chat Companion</span></h2>
            <div class="ai-chat">
                <div class="chat-container" id="chat-container">
                    <div class="chat-message bot">
                        <strong>Bow-Bot:</strong> Hey there! I'm Bow-Bot, your AI companion. Ask me about coding, gaming, or just chat! üòä
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chat-input" placeholder="Type your message...">
                    <button class="chat-send" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>

        <!-- NEW: LIVE CODING ACTIVITY SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üíª Live Coding Activity</span></h2>
            <div class="live-coding">
                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">script.js ‚Ä¢ Live</div>
                        <div class="editor-status">üü¢ Coding in progress...</div>
                    </div>
                    <div class="editor-body" id="live-code">
                        <div class="code-line"><span class="code-comment">// Working on new portfolio features</span></div>
                        <div class="code-line"><span class="code-keyword">function</span> <span class="code-function">addXP</span>(<span class="code-var">points</span>) {</div>
                        <div class="code-line">&nbsp;&nbsp;<span class="code-keyword">this</span>.<span class="code-var">xp</span> += <span class="code-var">points</span>;</div>
                        <div class="code-line">&nbsp;&nbsp;<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.<span class="code-var">xp</span> >= <span class="code-keyword">this</span>.<span class="code-var">nextLevelXP</span>) {</div>
                        <div class="code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-function">levelUp</span>();</div>
                        <div class="code-line">&nbsp;&nbsp;}</div>
                        <div class="code-line">}</div>
                        <div class="code-line"></div>
                        <div class="code-line"><span class="code-comment">// Adding new interactive elements</span></div>
                        <div class="code-line"><span class="code-keyword">const</span> <span class="code-var">newFeature</span> = <span class="code-string">'XP System'</span>;</div>
                        <div class="code-line"><span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">`Building: ${newFeature}`</span>);</div>
                    </div>
                </div>
                <div class="coding-stats">
                    <div class="coding-stat">
                        <div id="lines-today">‚å®Ô∏è 127</div>
                        <div>Lines Today</div>
                    </div>
                    <div class="coding-stat">
                        <div id="coding-time">üöÄ 45min</div>
                        <div>Coding Time</div>
                    </div>
                    <div class="coding-stat">
                        <div id="bugs-fixed">üêõ 3</div>
                        <div>Bugs Fixed</div>
                    </div>
                    <div class="coding-stat">
                        <div id="features-added">‚ú® 2</div>
                        <div>Features Added</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW: SEASONAL EVENTS SECTION -->
        <div class="section-box" data-aos="fade-up">
            <h2><span>üéâ Seasonal Events</span></h2>
            <div class="seasonal-events">
                <div class="event-card">
                    <div class="event-header">
                        <div class="event-title">üéÉ Halloween Special</div>
                        <div class="event-countdown" id="halloween-countdown">27d 12h 45m</div>
                    </div>
                    <p>Spooky coding challenges with exclusive rewards! Complete tasks to earn limited-time badges.</p>
                    <div class="event-progress">
                        <div class="event-progress-bar"></div>
                    </div>
                    <div>Progress: 3/7 Challenges Completed</div>
                    <div class="event-actions">
                        <div class="event-btn" onclick="joinEvent('halloween')">Join Event</div>
                        <div class="event-btn" onclick="viewChallenges('halloween')">View Challenges</div>
                    </div>
                </div>
                
                <div class="event-card">
                    <div class="event-header">
                        <div class="event-title">üéÑ Christmas Coding</div>
                        <div class="event-countdown" id="christmas-countdown">58d 6h 30m</div>
                    </div>
                    <p>Festive coding marathon! Build holiday-themed projects and earn special Christmas badges.</p>
                    <div class="event-progress">
                        <div class="event-progress-bar" style="width: 20%;"></div>
                    </div>
                    <div>Progress: 1/5 Projects Started</div>
                    <div class="event-actions">
                        <div class="event-btn" onclick="joinEvent('christmas')">Join Event</div>
                        <div class="event-btn" onclick="viewChallenges('christmas')">View Projects</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="social-title" data-aos="fade-up"><span>üì± Social Media</span></div>
        <div class="social-container" data-aos="fade-up">
            <a class="social-btn" href="https://instagram.com/bowxlss_" target="_blank" rel="noopener"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" loading="lazy" alt="Instagram"> Instagram</a>
            <a class="social-btn" href="https://tiktok.com/@bowxlss_" target="_blank" rel="noopener"><img src="https://cdn-icons-png.flaticon.com/512/3046/3046122.png" loading="lazy" alt="TikTok"> TikTok</a>
            <a class="social-btn" href="https://t.me/bowxlss" target="_blank" rel="noopener"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" loading="lazy" alt="Telegram"> Telegram</a>
            <a class="social-btn" href="https://github.com/bowxlss" target="_blank" rel="noopener"><img src="https://cdn-icons-png.flaticon.com/512/733/733553.png" loading="lazy" alt="GitHub"> GitHub</a>
            <a class="social-btn" href="https://discord.com/users/bowxlss" target="_blank" rel="noopener"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670157.png" loading="lazy" alt="Discord"> Discord</a>
            <a class="social-btn" href="second.html"><img src="https://cdn-icons-png.flaticon.com/512/1828/1828911.png" loading="lazy" alt="Projects"> Projects & Skills</a>
        </div>
    </div>

    <!-- NEW: Modal for Challenges and Projects -->
    <div id="challenges-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">Challenges</h3>
                <button class="close-btn" onclick="closeModal()">√ó</button>
            </div>
            <div id="modal-content">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="footer" data-aos="fade-up">
        <span>¬© 2025 Bowxlss. All rights reserved. ‚ú®</span>
        <div class="footer-icons">
            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" loading="lazy">
            <img src="https://cdn-icons-png.flaticon.com/512/3046/3046122.png" alt="TikTok" loading="lazy">
            <img src="https://cdn-icons-png.flaticon.com/512/733/733553.png" alt="GitHub" loading="lazy">
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js" defer></script>
    <script>
        // NEW: Modal Functions
        function openModal(title, content) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('challenges-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('challenges-modal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('challenges-modal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // XP System State Management
        let xpState = {
            currentXP: 1250,
            totalXP: 2000,
            level: 7,
            actions: {}
        };

        // Load XP state from localStorage
        function loadXPState() {
            const saved = localStorage.getItem('xpState');
            if (saved) {
                xpState = JSON.parse(saved);
            }
            updateXPDisplay();
        }

        // Save XP state to localStorage
        function saveXPState() {
            localStorage.setItem('xpState', JSON.stringify(xpState));
        }

        // Update XP display
        function updateXPDisplay() {
            const xpLevel = document.querySelector('.xp-level');
            const xpPoints = document.querySelector('.xp-points');
            const xpProgress = document.querySelector('.xp-progress');

            if (xpLevel) {
                xpLevel.textContent = `Level ${xpState.level} Developer`;
            }
            if (xpPoints) {
                xpPoints.textContent = `${xpState.currentXP}/${xpState.totalXP} XP`;
            }
            if (xpProgress) {
                const percentage = (xpState.currentXP / xpState.totalXP) * 100;
                xpProgress.style.width = `${percentage}%`;
            }
        }

        // NEW: FIXED XP System Functionality
        function gainXP(action) {
            const xpValues = {
                'visit': 10,
                'terminal': 15,
                'game': 25,
                'social': 30
            };

            const points = xpValues[action];
            if (!points) return;

            // Check if action was already performed today
            const today = new Date().toDateString();
            if (xpState.actions[action] === today) {
                showNotification(`You already earned XP for ${action} today!`, 'info');
                return;
            }

            // Add XP
            xpState.currentXP += points;
            xpState.actions[action] = today;

            // Check for level up
            if (xpState.currentXP >= xpState.totalXP) {
                xpState.level++;
                xpState.currentXP = xpState.currentXP - xpState.totalXP;
                xpState.totalXP = Math.floor(xpState.totalXP * 1.2); // Increase next level requirement
                showNotification(`üéâ Level Up! You are now Level ${xpState.level}`, 'success');
            }

            // Update display and save
            updateXPDisplay();
            saveXPState();
            showNotification(`+${points} XP gained for ${action}!`, 'success');

            // Visual feedback
            const xpProgress = document.querySelector('.xp-progress');
            if (xpProgress) {
                xpProgress.style.transition = 'width 0.5s ease';
                setTimeout(() => {
                    xpProgress.style.transition = 'width 2s ease-in-out';
                }, 500);
            }
        }

        // NEW: Auto-gain XP for terminal usage
        function setupXPTracking() {
            const originalProcessCommand = TerminalGame.prototype.processCommand;
            TerminalGame.prototype.processCommand = function(cmd) {
                const result = originalProcessCommand.call(this, cmd);
                
                // Award XP for terminal usage (excluding help and clear commands)
                if (!cmd.includes('help') && !cmd.includes('clear')) {
                    setTimeout(() => gainXP('terminal'), 100);
                }
                
                return result;
            };
        }

        // NEW: FIXED Event Functions
        function joinEvent(event) {
            showNotification(`Joined ${event} event! üéâ`, 'success');
            gainXP('game'); // Award XP for joining events
        }

        function viewChallenges(event) {
            let title = '';
            let content = '';
            
            if (event === 'halloween') {
                title = 'üéÉ Halloween Challenges';
                content = `
                    <div class="challenge-list">
                        <div class="challenge-item">
                            <h4>Spooky CSS Animation</h4>
                            <p>Create a Halloween-themed CSS animation with ghosts, pumpkins, or bats.</p>
                            <span class="challenge-status status-completed">Completed</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Ghostly JavaScript Game</h4>
                            <p>Build a mini-game where players catch ghosts in a haunted house.</p>
                            <span class="challenge-status status-in-progress">In Progress</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Dark Mode Toggle</h4>
                            <p>Implement a spooky dark mode theme for your website.</p>
                            <span class="challenge-status status-completed">Completed</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Trick-or-Treat Simulator</h4>
                            <p>Create a fun simulator where users can go trick-or-treating.</p>
                            <span class="challenge-status status-not-started">Not Started</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Pumpkin Carving App</h4>
                            <p>Build a virtual pumpkin carving application with creative tools.</p>
                            <span class="challenge-status status-not-started">Not Started</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Haunted House Website</h4>
                            <p>Design and develop a website for a fictional haunted house attraction.</p>
                            <span class="challenge-status status-not-started">Not Started</span>
                        </div>
                        <div class="challenge-item">
                            <h4>Monster Mash Music Player</h4>
                            <p>Create a Halloween-themed music player with spooky sound effects.</p>
                            <span class="challenge-status status-completed">Completed</span>
                        </div>
                    </div>
                `;
            } else if (event === 'christmas') {
                title = 'üéÑ Christmas Projects';
                content = `
                    <div class="project-list">
                        <div class="project-item">
                            <h4>Christmas Countdown Timer</h4>
                            <p>Build an interactive countdown timer showing days until Christmas.</p>
                            <span class="project-status status-in-progress">In Progress</span>
                        </div>
                        <div class="project-item">
                            <h4>Snow Animation with CSS/JS</h4>
                            <p>Create realistic falling snow animation for your website.</p>
                            <span class="project-status status-not-started">Not Started</span>
                        </div>
                        <div class="project-item">
                            <h4>Gift Exchange App</h4>
                            <p>Develop an app that helps organize gift exchanges among friends.</p>
                            <span class="project-status status-not-started">Not Started</span>
                        </div>
                        <div class="project-item">
                            <h4>Holiday Card Generator</h4>
                            <p>Build a customizable digital holiday greeting card generator.</p>
                            <span class="project-status status-not-started">Not Started</span>
                        </div>
                        <div class="project-item">
                            <h4>Santa's Sleigh Game</h4>
                            <p>Create a fun game where players guide Santa's sleigh to deliver presents.</p>
                            <span class="project-status status-not-started">Not Started</span>
                        </div>
                    </div>
                `;
            }
            
            openModal(title, content);
        }

        // TERMINAL GAME ENGINE - FIXED MOBILE FOCUS ISSUE
        class TerminalGame {
            constructor() {
                this.commands = {
                    'help': this.showHelp.bind(this),
                    'clear': this.clearTerminal.bind(this),
                    'about': this.showAbout.bind(this),
                    'social': this.showSocial.bind(this),
                    'projects': this.showProjects.bind(this),
                    'skills': this.showSkills.bind(this),
                    'game': this.showGames.bind(this),
                    'theme': this.toggleTheme.bind(this),
                    'date': this.showDate.bind(this),
                    'echo': this.echo.bind(this),
                    'sudo': this.sudo.bind(this),
                    'neofetch': this.neofetch.bind(this),
                    'banner': this.showBanner.bind(this)
                };
                
                this.games = {
                    'guess': this.startGuessGame.bind(this),
                    'rps': this.startRockPaperScissors.bind(this),
                    'quiz': this.startQuiz.bind(this),
                    'maze': this.startMazeGame.bind(this),
                    // NEW GAMES START HERE
                    'hangman': this.startHangman.bind(this),
                    'dice': this.startDiceGame.bind(this),
                    'wordle': this.startWordle.bind(this),
                    'blackjack': this.startBlackjack.bind(this),
                    'memory': this.startMemoryGame.bind(this),
                    'trivia': this.startTrivia.bind(this),
                    'typing': this.startTypingTest.bind(this)
                };
                
                this.currentGame = null;
                this.gameState = {};
                this.init();
            }
            
            init() {
                const input = document.getElementById('terminal-input');
                const output = document.getElementById('terminal-output');
                
                // FIXED: Better mobile focus handling
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        e.stopPropagation();
                        this.processCommand(input.value);
                        input.value = '';
                        
                        // FIXED: Improved focus handling for mobile
                        setTimeout(() => {
                            input.focus();
                            // Prevent focus from jumping to other inputs
                            document.getElementById('chat-input').blur();
                        }, 50);
                    }
                });
                
                // Focus input when terminal is clicked - FIXED for mobile
                document.querySelector('.terminal').addEventListener('click', (e) => {
                    e.stopPropagation();
                    input.focus();
                    // Prevent focus from jumping to other inputs
                    document.getElementById('chat-input').blur();
                });

                // FIXED: Better touch handling for mobile
                document.querySelector('.terminal').addEventListener('touchstart', (e) => {
                    e.stopPropagation();
                });

                document.querySelector('.terminal').addEventListener('touchend', (e) => {
                    e.stopPropagation();
                    input.focus();
                    document.getElementById('chat-input').blur();
                });

                // FIXED: Prevent focus stealing by other elements
                document.addEventListener('focusin', (e) => {
                    if (e.target.id === 'chat-input') {
                        // If chat input gets focus, blur terminal input
                        input.blur();
                    }
                });
            }
            
            processCommand(cmd) {
                const output = document.getElementById('terminal-output');
                
                // Tampilkan command yang diinput
                this.addLine(`visitor@bowxlss-portfolio:~$ ${cmd}`, 'command');
                
                cmd = cmd.trim().toLowerCase();
                const args = cmd.split(' ');
                const mainCmd = args[0];
                
                if (this.currentGame) {
                    this.handleGameInput(cmd);
                    return;
                }
                
                if (this.commands[mainCmd]) {
                    this.commands[mainCmd](args.slice(1));
                } else if (this.games[mainCmd]) {
                    this.games[mainCmd](args.slice(1));
                    // Auto gain XP when starting games
                    gainXP('game');
                } else {
                    this.addLine(`Command not found: ${mainCmd}. Type 'help' for available commands.`, 'error');
                }
                
                this.scrollToBottom();
            }
            
            addLine(text, type = 'output') {
                const output = document.getElementById('terminal-output');
                const line = document.createElement('div');
                line.className = 'terminal-line';
                
                if (type === 'command') {
                    line.innerHTML = `<span class="prompt">visitor@bowxlss-portfolio:~$ </span><span class="command">${text.split('$ ')[1]}</span>`;
                } else {
                    line.innerHTML = `<span class="${type}">${text}</span>`;
                }
                
                output.appendChild(line);
            }
            
            scrollToBottom() {
                const terminalBody = document.querySelector('.terminal-body');
                terminalBody.scrollTop = terminalBody.scrollHeight;
            }
            
            // COMMAND FUNCTIONS
            showHelp() {
                this.addLine('Available commands:', 'output');
                this.addLine('  help\t\t- Show this help message', 'output');
                this.addLine('  clear\t\t- Clear terminal screen', 'output');
                this.addLine('  about\t\t- About Bowxlss', 'output');
                this.addLine('  social\t- Social media links', 'output');
                this.addLine('  projects\t- My projects list', 'output');
                this.addLine('  skills\t- Technical skills', 'output');
                this.addLine('  theme\t\t- Toggle dark/light mode', 'output');
                this.addLine('  date\t\t- Show current date', 'output');
                this.addLine('  neofetch\t- System information', 'output');
                this.addLine('  banner\t- Show cool banner', 'output');
                this.addLine('', 'output');
                this.addLine('üéÆ Mini Games (type "game" or specific game name):', 'highlight');
                this.addLine('  guess\t\t- Number guessing game (1-100)', 'output');
                this.addLine('  rps\t\t- Rock Paper Scissors vs AI', 'output');
                this.addLine('  quiz\t\t- Programming quiz challenge', 'output');
                this.addLine('  maze\t\t- Text-based maze adventure', 'output');
                this.addLine('  hangman\t- Classic hangman word game', 'output');
                this.addLine('  dice\t\t- Dice rolling competition', 'output');
                this.addLine('  wordle\t- Word guessing game (5 letters)', 'output');
                this.addLine('  blackjack\t- Card game vs dealer', 'output');
                this.addLine('  memory\t- Memory card matching game', 'output');
                this.addLine('  trivia\t- Random trivia questions', 'output');
                this.addLine('  typing\t- Typing speed test', 'output');
            }
            
            clearTerminal() {
                document.getElementById('terminal-output').innerHTML = '';
                this.addLine('Terminal cleared. Type "help" for commands.', 'output');
            }
            
            showAbout() {
                this.addLine('üßë‚Äçüíª About Bowxlss:', 'highlight');
                this.addLine('‚Ä¢ Chill developer & anime enthusiast', 'output');
                this.addLine('‚Ä¢ Love creating fun projects and game mods', 'output');
                this.addLine('‚Ä¢ Currently learning web development', 'output');
                this.addLine('‚Ä¢ GTA SA:MP scripting expert', 'output');
                this.addLine('‚Ä¢ Focus on stress-free coding journey', 'output');
            }
            
            showSocial() {
                this.addLine('üåê Social Links:', 'highlight');
                this.addLine('‚Ä¢ GitHub: https://github.com/bowxlss', 'output');
                this.addLine('‚Ä¢ Discord: bowxlss', 'output');
                this.addLine('‚Ä¢ Email: Check GitHub profile', 'output');
            }
            
            showProjects() {
                this.addLine('üöÄ My Projects:', 'highlight');
                this.addLine('‚Ä¢ Personal Website (This one!)', 'output');
                this.addLine('‚Ä¢ GTA SA:MP Script Collection', 'output');
                this.addLine('‚Ä¢ Anime Tracker Web App', 'output');
                this.addLine('‚Ä¢ Game Mods & Mini JS Games', 'output');
            }
            
            showSkills() {
                this.addLine('üíª Technical Skills:', 'highlight');
                this.addLine('‚Ä¢ HTML/CSS/JavaScript', 'output');
                this.addLine('‚Ä¢ Python & Pawn (SA:MP)', 'output');
                this.addLine('‚Ä¢ Git & GitHub', 'output');
                this.addLine('‚Ä¢ Game Modding', 'output');
            }
            
            showGames() {
                this.addLine('üéÆ Available Mini Games:', 'highlight');
                this.addLine('Type the game name to start playing!', 'output');
                this.addLine('‚Ä¢ guess  - Number guessing game (1-100)', 'output');
                this.addLine('‚Ä¢ rps    - Rock Paper Scissors vs AI', 'output');
                this.addLine('‚Ä¢ quiz   - Programming quiz challenge', 'output');
                this.addLine('‚Ä¢ maze   - Text-based maze adventure', 'output');
                this.addLine('‚Ä¢ hangman- Classic hangman word game', 'output');
                this.addLine('‚Ä¢ dice   - Dice rolling competition', 'output');
                this.addLine('‚Ä¢ wordle - Word guessing game (5 letters)', 'output');
                this.addLine('‚Ä¢ blackjack - Card game vs dealer', 'output');
                this.addLine('‚Ä¢ memory - Memory card matching game', 'output');
                this.addLine('‚Ä¢ trivia - Random trivia questions', 'output');
                this.addLine('‚Ä¢ typing - Typing speed test', 'output');
            }
            
            toggleTheme() {
                document.getElementById('theme-toggle').click();
                this.addLine('Theme toggled!', 'success');
            }
            
            showDate() {
                this.addLine(new Date().toString(), 'output');
            }
            
            echo(args) {
                this.addLine(args.join(' '), 'output');
            }
            
            sudo() {
                this.addLine('Nice try! üòÑ You need root privileges for that.', 'error');
            }
            
            neofetch() {
                this.addLine('bowxlss@portfolio', 'highlight');
                this.addLine('-------------------', 'output');
                this.addLine('OS: Portfolio OS 3.0', 'output');
                this.addLine('Shell: Dev Terminal v3.0', 'output');
                this.addLine('WM: Neon Window Manager', 'output');
                this.addLine('Theme: Cyber Neon Dark', 'output');
                this.addLine('Skills: HTML/CSS/JS/Python', 'output');
                this.addLine('Focus: Web Dev & Game Modding', 'output');
                this.addLine('Status: Coding & Chilling', 'output');
            }
            
            showBanner() {
                const banner = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë          BOWXLSS DEV             ‚ïë
‚ïë        TERMINAL v3.0             ‚ïë
‚ïë      NOW WITH 11+ GAMES!         ‚ïë
‚ïë                                  ‚ïë
‚ïë   Type 'help' for commands       ‚ïë
‚ïë   Type 'game' for mini games     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                `.trim();
                
                banner.split('\n').forEach(line => {
                    this.addLine(line, 'highlight');
                });
            }
            
            // ========== ORIGINAL GAMES ==========
            startGuessGame() {
                this.currentGame = 'guess';
                this.gameState = {
                    number: Math.floor(Math.random() * 100) + 1,
                    attempts: 0
                };
                
                this.addLine('üéØ Number Guessing Game Started!', 'highlight');
                this.addLine('I\'m thinking of a number between 1 and 100.', 'output');
                this.addLine('Can you guess it?', 'output');
            }
            
            startRockPaperScissors() {
                this.currentGame = 'rps';
                this.addLine('ü™® üìÑ ‚úÇÔ∏è Rock Paper Scissors!', 'highlight');
                this.addLine('Type: rock, paper, or scissors', 'output');
            }
            
            startQuiz() {
                this.currentGame = 'quiz';
                this.gameState = {
                    questions: [
                        {
                            q: 'What does HTML stand for?',
                            options: ['A) Hyper Text Markup Language', 'B) High Tech Modern Language', 'C) Hyper Transfer Markup Language'],
                            answer: 'A'
                        },
                        {
                            q: 'Which language runs in a web browser?',
                            options: ['A) Python', 'B) JavaScript', 'C) C++'],
                            answer: 'B'
                        },
                        {
                            q: 'What is the latest version of HTML?',
                            options: ['A) HTML4', 'B) XHTML', 'C) HTML5'],
                            answer: 'C'
                        }
                    ],
                    currentQuestion: 0,
                    score: 0
                };
                
                this.showQuizQuestion();
            }
            
            startMazeGame() {
                this.currentGame = 'maze';
                this.addLine('üß© Maze Adventure!', 'highlight');
                this.addLine('Navigate through the maze using: north, south, east, west', 'output');
                this.addLine('Find the treasure to win!', 'output');
                this.addLine('', 'output');
                this.addLine('You are in a dark room. Exits: north, east', 'output');
            }
            
            // ========== NEW GAMES ==========
            
            // üéØ 1. HANGMAN GAME
            startHangman() {
                this.currentGame = 'hangman';
                const words = ['javascript', 'website', 'terminal', 'developer', 'portfolio', 'bowxlss', 'gaming', 'anime', 'coding', 'chill'];
                this.gameState = {
                    word: words[Math.floor(Math.random() * words.length)],
                    guessed: [],
                    attempts: 6,
                    revealed: Array(words[0].length).fill('_')
                };
                
                this.addLine('üéØ Hangman Game Started!', 'highlight');
                this.addLine('Guess the word by typing letters!', 'output');
                this.addLine(`Word: ${this.gameState.revealed.join(' ')}`, 'output');
                this.addLine(`Attempts left: ${this.gameState.attempts}`, 'output');
                this.addLine('Type a letter to guess...', 'output');
            }
            
            // üé≤ 2. DICE GAME
            startDiceGame() {
                this.currentGame = 'dice';
                this.gameState = {
                    playerScore: 0,
                    computerScore: 0,
                    targetScore: 50
                };
                
                this.addLine('üé≤ Dice Rolling Game!', 'highlight');
                this.addLine('Type "roll" to roll the dice', 'output');
                this.addLine(`First to reach ${this.gameState.targetScore} points wins!`, 'output');
                this.addLine(`Your score: ${this.gameState.playerScore} | Computer: ${this.gameState.computerScore}`, 'output');
            }
            
            // üî§ 3. WORDLE GAME
            startWordle() {
                this.currentGame = 'wordle';
                const words = ['apple', 'brain', 'clock', 'dream', 'earth', 'flame', 'ghost', 'heart', 'image', 'jolly'];
                this.gameState = {
                    word: words[Math.floor(Math.random() * words.length)],
                    attempts: 6,
                    currentAttempt: 0,
                    guesses: []
                };
                
                this.addLine('üî§ Wordle Game Started!', 'highlight');
                this.addLine('Guess the 5-letter word', 'output');
                this.addLine('üü© = Correct letter & position', 'output');
                this.addLine('üü® = Correct letter, wrong position', 'output');
                this.addLine('‚¨ú = Letter not in word', 'output');
                this.addLine(`Attempts: ${this.gameState.attempts}`, 'output');
            }
            
            // üÉè 4. BLACKJACK GAME
            startBlackjack() {
                this.currentGame = 'blackjack';
                this.gameState = {
                    playerHand: [],
                    dealerHand: [],
                    playerScore: 0,
                    dealerScore: 0,
                    gameOver: false
                };
                
                // Deal initial cards
                this.dealCard('player');
                this.dealCard('dealer');
                this.dealCard('player');
                this.dealCard('dealer');
                
                this.addLine('üÉè Blackjack Game Started!', 'highlight');
                this.addLine('Type "hit" to get another card, "stand" to stop', 'output');
                this.updateBlackjackDisplay();
            }
            
            // üß† 5. MEMORY GAME
            startMemoryGame() {
                this.currentGame = 'memory';
                const symbols = ['A', 'B', 'C', 'D', 'E', 'F', 'A', 'B', 'C', 'D', 'E', 'F'];
                this.gameState = {
                    board: this.shuffleArray([...symbols]),
                    revealed: Array(12).fill(false),
                    firstSelection: null,
                    matches: 0,
                    attempts: 0
                };
                
                this.addLine('üß† Memory Game Started!', 'highlight');
                this.addLine('Find matching pairs of letters', 'output');
                this.addLine('Type a number (1-12) to reveal a card', 'output');
                this.displayMemoryBoard();
            }
            
            // ‚ùì 6. TRIVIA GAME
            startTrivia() {
                this.currentGame = 'trivia';
                this.gameState = {
                    questions: [
                        {
                            q: 'What year was JavaScript created?',
                            options: ['A) 1995', 'B) 1985', 'C) 2000'],
                            answer: 'A'
                        },
                        {
                            q: 'Which planet is known as the Red Planet?',
                            options: ['A) Venus', 'B) Mars', 'C) Jupiter'],
                            answer: 'B'
                        },
                        {
                            q: 'How many bits are in a byte?',
                            options: ['A) 4', 'B) 8', 'C) 16'],
                            answer: 'B'
                        }
                    ],
                    currentQuestion: 0,
                    score: 0
                };
                
                this.addLine('‚ùì Trivia Game Started!', 'highlight');
                this.showTriviaQuestion();
            }
            
            // ‚å®Ô∏è  7. TYPING TEST
            startTypingTest() {
                this.currentGame = 'typing';
                const texts = [
                    'The quick brown fox jumps over the lazy dog',
                    'Programming is the art of telling another human what one wants the computer to do',
                    'Coding is not just code, that is the easy part, the hard part is making it work',
                    'JavaScript is the language of the web browser'
                ];
                this.gameState = {
                    text: texts[Math.floor(Math.random() * texts.length)],
                    startTime: null,
                    completed: false
                };
                
                this.addLine('‚å®Ô∏è  Typing Test Started!', 'highlight');
                this.addLine('Type the following text as fast as you can:', 'output');
                this.addLine(`"${this.gameState.text}"`, 'highlight');
                this.addLine('Press Enter when ready to start typing...', 'output');
                this.gameState.startTime = Date.now();
            }
            
            // ========== GAME INPUT HANDLERS ==========
            handleGameInput(input) {
                switch (this.currentGame) {
                    case 'guess':
                        this.handleGuessInput(input);
                        break;
                    case 'rps':
                        this.handleRPSInput(input);
                        break;
                    case 'quiz':
                        this.handleQuizInput(input);
                        break;
                    case 'maze':
                        this.handleMazeInput(input);
                        break;
                    case 'hangman':
                        this.handleHangmanInput(input);
                        break;
                    case 'dice':
                        this.handleDiceInput(input);
                        break;
                    case 'wordle':
                        this.handleWordleInput(input);
                        break;
                    case 'blackjack':
                        this.handleBlackjackInput(input);
                        break;
                    case 'memory':
                        this.handleMemoryInput(input);
                        break;
                    case 'trivia':
                        this.handleTriviaInput(input);
                        break;
                    case 'typing':
                        this.handleTypingInput(input);
                        break;
                }
            }
            
            // Original game handlers
            handleGuessInput(input) {
                const guess = parseInt(input);
                this.gameState.attempts++;
                
                if (isNaN(guess)) {
                    this.addLine('Please enter a valid number!', 'error');
                    return;
                }
                
                if (guess === this.gameState.number) {
                    this.addLine(`üéâ Correct! The number was ${this.gameState.number}`, 'success');
                    this.addLine(`You guessed it in ${this.gameState.attempts} attempts!`, 'success');
                    this.currentGame = null;
                } else if (guess < this.gameState.number) {
                    this.addLine('üìà Too low! Try a higher number.', 'output');
                } else {
                    this.addLine('üìâ Too high! Try a lower number.', 'output');
                }
            }
            
            handleRPSInput(input) {
                const choices = ['rock', 'paper', 'scissors'];
                const userChoice = input.toLowerCase();
                const computerChoice = choices[Math.floor(Math.random() * 3)];
                
                if (!choices.includes(userChoice)) {
                    this.addLine('Invalid choice! Use: rock, paper, or scissors', 'error');
                    return;
                }
                
                this.addLine(`You chose: ${userChoice}`, 'output');
                this.addLine(`Computer chose: ${computerChoice}`, 'output');
                
                if (userChoice === computerChoice) {
                    this.addLine('ü§ù It\'s a tie!', 'output');
                } else if (
                    (userChoice === 'rock' && computerChoice === 'scissors') ||
                    (userChoice === 'paper' && computerChoice === 'rock') ||
                    (userChoice === 'scissors' && computerChoice === 'paper')
                ) {
                    this.addLine('üéâ You win!', 'success');
                } else {
                    this.addLine('üíª Computer wins!', 'error');
                }
                
                this.addLine('Play again? Type: rock, paper, or scissors', 'output');
            }
            
            showQuizQuestion() {
                const question = this.gameState.questions[this.gameState.currentQuestion];
                this.addLine(`Question ${this.gameState.currentQuestion + 1}: ${question.q}`, 'highlight');
                question.options.forEach(option => {
                    this.addLine(option, 'output');
                });
            }
            
            handleQuizInput(input) {
                const question = this.gameState.questions[this.gameState.currentQuestion];
                const answer = input.toUpperCase();
                
                if (answer === question.answer) {
                    this.gameState.score++;
                    this.addLine('‚úÖ Correct!', 'success');
                } else {
                    this.addLine(`‚ùå Wrong! Correct answer was ${question.answer}`, 'error');
                }
                
                this.gameState.currentQuestion++;
                
                if (this.gameState.currentQuestion < this.gameState.questions.length) {
                    setTimeout(() => this.showQuizQuestion(), 1000);
                } else {
                    this.addLine(`üéØ Quiz completed! Score: ${this.gameState.score}/${this.gameState.questions.length}`, 'highlight');
                    this.currentGame = null;
                }
            }
            
            handleMazeInput(input) {
                const directions = ['north', 'south', 'east', 'west'];
                const direction = input.toLowerCase();
                
                if (!directions.includes(direction)) {
                    this.addLine('Invalid direction! Use: north, south, east, west', 'error');
                    return;
                }
                
                // Simple maze logic
                if (Math.random() > 0.7) {
                    this.addLine('üéâ You found the treasure! You win!', 'success');
                    this.currentGame = null;
                } else {
                    this.addLine(`You moved ${direction}. The maze continues...`, 'output');
                    this.addLine('Exits: north, south, east, west', 'output');
                }
            }
            
            // ========== NEW GAME HANDLERS ==========
            
            // üéØ Hangman Handler
            handleHangmanInput(input) {
                const letter = input.toLowerCase();
                
                if (letter.length !== 1 || !letter.match(/[a-z]/)) {
                    this.addLine('Please enter a single letter!', 'error');
                    return;
                }
                
                if (this.gameState.guessed.includes(letter)) {
                    this.addLine(`You already guessed "${letter}"!`, 'error');
                    return;
                }
                
                this.gameState.guessed.push(letter);
                
                if (this.gameState.word.includes(letter)) {
                    this.addLine(`Good guess! "${letter}" is in the word.`, 'success');
                    
                    // Update revealed word
                    for (let i = 0; i < this.gameState.word.length; i++) {
                        if (this.gameState.word[i] === letter) {
                            this.gameState.revealed[i] = letter;
                        }
                    }
                } else {
                    this.gameState.attempts--;
                    this.addLine(`Wrong! "${letter}" is not in the word.`, 'error');
                }
                
                // Display current state
                this.addLine(`Word: ${this.gameState.revealed.join(' ')}`, 'output');
                this.addLine(`Attempts left: ${this.gameState.attempts}`, 'output');
                this.addLine(`Guessed letters: ${this.gameState.guessed.join(', ')}`, 'output');
                
                // Check win/lose conditions
                if (!this.gameState.revealed.includes('_')) {
                    this.addLine('üéâ Congratulations! You won!', 'success');
                    this.addLine(`The word was: ${this.gameState.word}`, 'output');
                    this.currentGame = null;
                } else if (this.gameState.attempts <= 0) {
                    this.addLine('üíÄ Game Over! You ran out of attempts.', 'error');
                    this.addLine(`The word was: ${this.gameState.word}`, 'output');
                    this.currentGame = null;
                }
            }
            
            // üé≤ Dice Handler
            handleDiceInput(input) {
                if (input !== 'roll') {
                    this.addLine('Type "roll" to roll the dice!', 'error');
                    return;
                }
                
                const playerRoll = Math.floor(Math.random() * 6) + 1;
                const computerRoll = Math.floor(Math.random() * 6) + 1;
                
                this.gameState.playerScore += playerRoll;
                this.gameState.computerScore += computerRoll;
                
                this.addLine(`üé≤ You rolled: ${playerRoll}`, 'output');
                this.addLine(`ü§ñ Computer rolled: ${computerRoll}`, 'output');
                this.addLine(`üìä Your score: ${this.gameState.playerScore} | Computer: ${this.gameState.computerScore}`, 'output');
                
                // Check win conditions
                if (this.gameState.playerScore >= this.gameState.targetScore && 
                    this.gameState.computerScore >= this.gameState.targetScore) {
                    this.addLine('ü§ù It\'s a tie!', 'highlight');
                    this.currentGame = null;
                } else if (this.gameState.playerScore >= this.gameState.targetScore) {
                    this.addLine('üéâ You win!', 'success');
                    this.currentGame = null;
                } else if (this.gameState.computerScore >= this.gameState.targetScore) {
                    this.addLine('üíª Computer wins!', 'error');
                    this.currentGame = null;
                }
            }
            
            // üî§ Wordle Handler
            handleWordleInput(input) {
                const guess = input.toLowerCase();
                
                if (guess.length !== 5 || !guess.match(/[a-z]{5}/)) {
                    this.addLine('Please enter a 5-letter word!', 'error');
                    return;
                }
                
                this.gameState.currentAttempt++;
                let result = '';
                
                for (let i = 0; i < 5; i++) {
                    if (guess[i] === this.gameState.word[i]) {
                        result += 'üü©';
                    } else if (this.gameState.word.includes(guess[i])) {
                        result += 'üü®';
                    } else {
                        result += '‚¨ú';
                    }
                }
                
                this.addLine(`${guess.toUpperCase()} - ${result}`, 'output');
                
                if (guess === this.gameState.word) {
                    this.addLine('üéâ You guessed the word!', 'success');
                    this.currentGame = null;
                } else if (this.gameState.currentAttempt >= this.gameState.attempts) {
                    this.addLine(`üíÄ Game Over! The word was: ${this.gameState.word}`, 'error');
                    this.currentGame = null;
                } else {
                    this.addLine(`Attempts left: ${this.gameState.attempts - this.gameState.currentAttempt}`, 'output');
                }
            }
            
            // üÉè Blackjack Helper Functions
            dealCard(player) {
                const card = Math.min(10, Math.floor(Math.random() * 13) + 1); // 1-10, face cards = 10
                this.gameState[player + 'Hand'].push(card);
                this.updateScores();
            }
            
            updateScores() {
                this.gameState.playerScore = this.gameState.playerHand.reduce((a, b) => a + b, 0);
                this.gameState.dealerScore = this.gameState.dealerHand.reduce((a, b) => a + b, 0);
            }
            
            updateBlackjackDisplay() {
                this.addLine(`Your hand: ${this.gameState.playerHand.join(', ')} (Total: ${this.gameState.playerScore})`, 'output');
                this.addLine(`Dealer shows: ${this.gameState.dealerHand[0]}`, 'output');
            }
            
            // üÉè Blackjack Handler
            handleBlackjackInput(input) {
                if (this.gameState.gameOver) {
                    this.addLine('Game over! Start a new game with "blackjack"', 'error');
                    return;
                }
                
                const action = input.toLowerCase();
                
                if (action === 'hit') {
                    this.dealCard('player');
                    this.addLine(`You drew: ${this.gameState.playerHand[this.gameState.playerHand.length - 1]}`, 'output');
                    
                    if (this.gameState.playerScore > 21) {
                        this.addLine('üí• You bust! Dealer wins.', 'error');
                        this.gameState.gameOver = true;
                    } else {
                        this.updateBlackjackDisplay();
                    }
                } else if (action === 'stand') {
                    // Dealer's turn
                    while (this.gameState.dealerScore < 17) {
                        this.dealCard('dealer');
                    }
                    
                    this.addLine(`Dealer's hand: ${this.gameState.dealerHand.join(', ')} (Total: ${this.gameState.dealerScore})`, 'output');
                    
                    if (this.gameState.dealerScore > 21 || this.gameState.playerScore > this.gameState.dealerScore) {
                        this.addLine('üéâ You win!', 'success');
                    } else if (this.gameState.playerScore < this.gameState.dealerScore) {
                        this.addLine('üíª Dealer wins!', 'error');
                    } else {
                        this.addLine('ü§ù Push! It\'s a tie.', 'output');
                    }
                    
                    this.gameState.gameOver = true;
                } else {
                    this.addLine('Invalid action! Use: hit, stand', 'error');
                }
            }
            
            // üß† Memory Helper
            shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
            
            displayMemoryBoard() {
                let display = '';
                for (let i = 0; i < 12; i++) {
                    if (this.gameState.revealed[i]) {
                        display += `[${this.gameState.board[i]}] `;
                    } else {
                        display += `[${i + 1}] `;
                    }
                    if ((i + 1) % 4 === 0) display += '\n';
                }
                this.addLine(display, 'output');
            }
            
            // üß† Memory Handler
            handleMemoryInput(input) {
                const position = parseInt(input) - 1;
                
                if (isNaN(position) || position < 0 || position > 11) {
                    this.addLine('Please enter a number between 1 and 12!', 'error');
                    return;
                }
                
                if (this.gameState.revealed[position]) {
                    this.addLine('This card is already revealed!', 'error');
                    return;
                }
                
                this.gameState.revealed[position] = true;
                this.gameState.attempts++;
                
                this.addLine(`Revealed: ${this.gameState.board[position]} at position ${input}`, 'output');
                
                if (this.gameState.firstSelection === null) {
                    this.gameState.firstSelection = position;
                } else {
                    const firstPos = this.gameState.firstSelection;
                    if (this.gameState.board[firstPos] === this.gameState.board[position]) {
                        this.addLine('üéâ Match found!', 'success');
                        this.gameState.matches++;
                    } else {
                        this.addLine('No match!', 'error');
                        this.gameState.revealed[firstPos] = false;
                        this.gameState.revealed[position] = false;
                    }
                    this.gameState.firstSelection = null;
                }
                
                this.displayMemoryBoard();
                
                if (this.gameState.matches === 6) {
                    this.addLine(`üéâ You won in ${this.gameState.attempts} attempts!`, 'success');
                    this.currentGame = null;
                }
            }
            
            // ‚ùì Trivia Handler
            showTriviaQuestion() {
                const question = this.gameState.questions[this.gameState.currentQuestion];
                this.addLine(`Question ${this.gameState.currentQuestion + 1}: ${question.q}`, 'highlight');
                question.options.forEach(option => {
                    this.addLine(option, 'output');
                });
            }
            
            handleTriviaInput(input) {
                const question = this.gameState.questions[this.gameState.currentQuestion];
                const answer = input.toUpperCase();
                
                if (answer === question.answer) {
                    this.gameState.score++;
                    this.addLine('‚úÖ Correct!', 'success');
                } else {
                    this.addLine(`‚ùå Wrong! Correct answer was ${question.answer}`, 'error');
                }
                
                this.gameState.currentQuestion++;
                
                if (this.gameState.currentQuestion < this.gameState.questions.length) {
                    setTimeout(() => this.showTriviaQuestion(), 1000);
                } else {
                    this.addLine(`üéØ Trivia completed! Score: ${this.gameState.score}/${this.gameState.questions.length}`, 'highlight');
                    this.currentGame = null;
                }
            }
            
            // ‚å®Ô∏è  Typing Handler
            handleTypingInput(input) {
                const endTime = Date.now();
                const timeTaken = (endTime - this.gameState.startTime) / 1000;
                const words = input.split(' ').length;
                const wpm = Math.round((words / timeTaken) * 60);
                
                if (input === this.gameState.text) {
                    this.addLine(`üéâ Perfect! Time: ${timeTaken.toFixed(2)}s | Speed: ${wpm} WPM`, 'success');
                } else {
                    this.addLine(`‚å®Ô∏è  Time: ${timeTaken.toFixed(2)}s | Speed: ${wpm} WPM`, 'output');
                    this.addLine('But there were some errors in your typing.', 'error');
                }
                
                this.currentGame = null;
            }
        }

        // NEW: Visitor Map Functionality
        function initializeVisitorMap() {
            const mapContainer = document.getElementById('world-map');
            const points = 15;
            
            for (let i = 0; i < points; i++) {
                const point = document.createElement('div');
                point.className = 'map-point';
                point.style.left = Math.random() * 90 + 5 + '%';
                point.style.top = Math.random() * 85 + 5 + '%';
                point.style.animationDelay = (Math.random() * 2) + 's';
                mapContainer.appendChild(point);
            }
        }

        // NEW: Visitor Stats Counter
        function updateVisitorStats() {
            // Generate realistic visitor data
            const countries = Math.floor(Math.random() * 10) + 42; // 42-51 countries
            const cities = Math.floor(Math.random() * 20) + 120; // 120-139 cities
            const visitors = Math.floor(Math.random() * 500) + 1500; // 1500-1999 visitors
            const online = Math.floor(Math.random() * 10) + 20; // 20-29 online
            
            // Update the display with animated counters
            animateCounter('countries-count', countries);
            animateCounter('cities-count', cities);
            animateCounter('visitors-count', visitors);
            animateCounter('online-count', online);
        }

        // NEW: Live Coding Stats Update
        function updateLiveCodingStats() {
            // Generate realistic coding activity data
            const linesToday = Math.floor(Math.random() * 50) + 100; // 100-149 lines
            const codingTime = Math.floor(Math.random() * 60) + 30; // 30-89 minutes
            const bugsFixed = Math.floor(Math.random() * 3) + 1; // 1-3 bugs
            const featuresAdded = Math.floor(Math.random() * 2) + 1; // 1-2 features
            
            // Update the display
            document.getElementById('lines-today').innerHTML = `‚å®Ô∏è ${linesToday}`;
            document.getElementById('coding-time').innerHTML = `üöÄ ${codingTime}min`;
            document.getElementById('bugs-fixed').innerHTML = `üêõ ${bugsFixed}`;
            document.getElementById('features-added').innerHTML = `‚ú® ${featuresAdded}`;
        }

        // Counter animation function
        function animateCounter(elementId, target) {
            const element = document.getElementById(elementId);
            const current = parseInt(element.textContent) || 0;
            const increment = Math.ceil((target - current) / 20);
            let currentValue = current;
            
            const timer = setInterval(() => {
                currentValue += increment;
                
                // Format numbers with commas for thousands
                if (target > 1000) {
                    element.textContent = Math.min(currentValue, target).toLocaleString();
                } else {
                    element.textContent = Math.min(currentValue, target);
                }
                
                if (currentValue >= target) {
                    clearInterval(timer);
                    element.textContent = target > 1000 ? target.toLocaleString() : target;
                }
            }, 50);
        }

        // NEW: AI Chat Functionality
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                // Add user message
                addChatMessage(message, 'user');
                input.value = '';
                
                // Simulate AI response delay
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addChatMessage(response, 'bot');
                }, 1000 + Math.random() * 2000);
            }
        }

        function addChatMessage(text, sender) {
            const container = document.getElementById('chat-container');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            
            if (sender === 'bot') {
                messageDiv.innerHTML = `<strong>Bow-Bot:</strong> ${text}`;
            } else {
                messageDiv.innerHTML = `<strong>You:</strong> ${text}`;
            }
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            const responses = {
                greeting: ["Hey there! üëã", "Hello! How can I help you today?", "Hi! Nice to see you!"],
                coding: ["Coding is awesome! What language are you learning?", "I love talking about programming! üöÄ", "Web development is so much fun!"],
                gaming: ["Gaming is the best way to relax! üéÆ", "What games are you playing lately?", "I'm a big fan of chill gaming sessions"],
                default: ["That's interesting! Tell me more.", "I see... what do you think about that?", "Cool! Want to talk about something else?"]
            };
            
            if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || lowerMessage.includes('hey')) {
                return responses.greeting[Math.floor(Math.random() * responses.greeting.length)];
            } else if (lowerMessage.includes('code') || lowerMessage.includes('program') || lowerMessage.includes('html') || lowerMessage.includes('css') || lowerMessage.includes('js')) {
                return responses.coding[Math.floor(Math.random() * responses.coding.length)];
            } else if (lowerMessage.includes('game') || lowerMessage.includes('play') || lowerMessage.includes('gta') || lowerMessage.includes('samp')) {
                return responses.gaming[Math.floor(Math.random() * responses.gaming.length)];
            } else {
                return responses.default[Math.floor(Math.random() * responses.default.length)];
            }
        }

        // NEW: Live Coding Animation
        function animateLiveCoding() {
            const codeEditor = document.getElementById('live-code');
            const lines = codeEditor.innerHTML;
            
            // Simulate typing effect occasionally
            if (Math.random() > 0.7) {
                codeEditor.style.animation = 'none';
                setTimeout(() => {
                    codeEditor.style.animation = 'typing 0.5s ease-in-out';
                }, 10);
            }
        }

        // NEW: Seasonal Events Countdown
        function updateCountdowns() {
            const now = new Date();
            
            // Halloween countdown (October 31)
            const halloween = new Date(now.getFullYear(), 9, 31);
            if (now > halloween) {
                halloween.setFullYear(halloween.getFullYear() + 1);
            }
            const halloweenDiff = halloween - now;
            
            // Christmas countdown (December 25)
            const christmas = new Date(now.getFullYear(), 11, 25);
            if (now > christmas) {
                christmas.setFullYear(christmas.getFullYear() + 1);
            }
            const christmasDiff = christmas - now;
            
            document.getElementById('halloween-countdown').textContent = formatCountdown(halloweenDiff);
            document.getElementById('christmas-countdown').textContent = formatCountdown(christmasDiff);
        }

        function formatCountdown(diff) {
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            return `${days}d ${hours}h ${minutes}m`;
        }

        // Utility function for notifications
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: ${type === 'success' ? 'rgba(34,197,94,0.9)' : 'rgba(59,130,246,0.9)'};
                color: white;
                border-radius: 8px;
                z-index: 10000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        document.addEventListener("DOMContentLoaded",function(){
            // Initialize AOS
            AOS.init({duration:800,once:true,disable:'mobile'});
            
            // Optimize particles for performance
            const isMobile = window.innerWidth <= 600;
            particlesJS('particles-js',{particles:{number:{value:isMobile?30:60},color:{value:"#ff00ff"},shape:{type:"circle"},opacity:{value:.6,random:true},size:{value:2,random:true},line_linked:{enable:false},move:{enable:true,speed:.4}}});
            
            // Initialize XP System
            loadXPState();
            
            // Setup XP tracking for terminal
            setupXPTracking();
            
            // Initialize Terminal Game
            const terminalGame = new TerminalGame();
            
            // Improved Theme Toggle with Smooth Transition & Local Storage
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = themeToggle.querySelector('.theme-icon');
            
            // Load saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light');
                themeIcon.textContent = '‚òÄÔ∏è';
            }
            
            themeToggle.addEventListener('click',()=>{
                document.body.style.transition = 'all 0.5s ease';
                document.body.classList.toggle('light');
                
                // Update icon
                themeIcon.textContent = document.body.classList.contains('light') ? '‚òÄÔ∏è' : 'üåô';
                
                // Save preference
                localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
            });
            
            // NEW: Time Greeting Function
            function updateGreeting() {
                const hour = new Date().getHours();
                const greetingElement = document.getElementById('time-greeting');
                const messageElement = document.getElementById('greeting-message');
                
                let greeting, message;
                
                if (hour >= 5 && hour < 12) {
                    // Morning (5 AM - 11:59 AM)
                    greeting = 'üåÖ Good Morning!';
                    message = 'Perfect time for some coding and chill vibes!';
                } else if (hour >= 12 && hour < 18) {
                    // Afternoon (12 PM - 5:59 PM)
                    greeting = '‚òÄÔ∏è Good Afternoon!';
                    message = 'Hope you\'re having a productive day!';
                } else if (hour >= 18 && hour < 22) {
                    // Evening (6 PM - 9:59 PM)
                    greeting = 'üåô Good Evening!';
                    message = 'Great time for gaming and relaxation!';
                } else {
                    // Night (10 PM - 4:59 AM)
                    greeting = 'üåå Hello Night Owl!';
                    message = 'The world is quiet, perfect for deep work!';
                }
                
                if (greetingElement) {
                    greetingElement.innerHTML = greeting;
                    messageElement.textContent = message;
                }
            }

            // Initialize greeting
            updateGreeting();
            setInterval(updateGreeting, 60000); // Update every minute
            
            // Optimize video playback
            const video = document.getElementById('video-bg');
            if(video){
                // Untuk mobile, set playback rate lebih rendah dan mute
                if(isMobile){
                    video.playbackRate = 0.8; // Lebih lambat untuk menghemat baterai
                    video.muted = true; // Pastikan tetap muted
                    video.setAttribute('playsinline', ''); // Penting untuk iOS
                    video.setAttribute('webkit-playsinline', ''); // Untuk Safari iOS
                } else {
                    video.playbackRate = 1;
                }
                
                // Reduce quality on slower connections
                if(navigator.connection && (navigator.connection.effectiveType === '2g' || navigator.connection.saveData)){
                    video.style.display = 'none';
                }
            }
            
            // Back to Top Button
            const backToTopBtn = document.getElementById('back-to-top');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.style.display = 'block';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Typing Animation
            const typingText = `Hi, I'm Bow ‚Äî a non-competitive gamer who enjoys games as a space to unwind, stay relaxed, and enjoy the experience without unnecessary pressure. I value balance, mindset, and the idea that gaming should be fun, engaging, and stress-free.

Outside of gaming, I'm currently exploring coding and web development. This website is my first personal project, built as a learning experience and a foundation for my growth in front-end development. I'm continuously improving through hands-on practice, experimentation, and curiosity in creating intuitive web experiences. ‚ú®`;

            function typeWriter() {
                let i = 0;
                const speed = 20; // Kecepatan mengetik (ms)
                const textElement = document.getElementById("typing-text");
                
                function type() {
                    if (i < typingText.length) {
                        // Handle line breaks properly
                        if (typingText.charAt(i) === '\n') {
                            textElement.innerHTML += '<br>';
                        } else {
                            textElement.innerHTML += typingText.charAt(i);
                        }
                        i++;
                        setTimeout(type, speed);
                    } else {
                        // Animation complete - hide cursor after a delay
                        setTimeout(() => {
                            document.querySelector('.typing-cursor').style.display = 'none';
                        }, 1000);
                    }
                }
                
                // Start typing after a short delay
                setTimeout(type, 800);
            }
            
            // Live Stats Counter Animation
            function animateCounter() {
                const counters = document.querySelectorAll('.stat-number');
                
                counters.forEach(counter => {
                    const target = +counter.getAttribute('data-target');
                    const increment = target / 100;
                    let current = 0;
                    
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            counter.textContent = target;
                            clearInterval(timer);
                        } else {
                            counter.textContent = Math.floor(current);
                        }
                    }, 20);
                });
            }

            // Observe stats section for animation
            const statsSection = document.querySelector('.stats-grid');
            if (statsSection) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            animateCounter();
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                
                observer.observe(statsSection);
            }
            
            // NEW: Initialize additional features
            initializeVisitorMap();
            updateVisitorStats(); // Initialize visitor stats with animated counters
            updateLiveCodingStats(); // Initialize live coding stats
            updateCountdowns();
            
            // Set up intervals for dynamic content
            setInterval(updateCountdowns, 60000); // Update countdown every minute
            setInterval(animateLiveCoding, 5000); // Animate coding every 5 seconds
            setInterval(updateVisitorStats, 30000); // Update visitor stats every 30 seconds
            setInterval(updateLiveCodingStats, 15000); // Update coding stats every 15 seconds
            
            // Chat input enter key support
            document.getElementById('chat-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            // Hide loading screen when page is fully loaded and start typing
            window.addEventListener('load', () => {
                setTimeout(() => {
                    document.getElementById('loading').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('loading').style.display = 'none';
                        // Start typing animation after loading is complete
                        typeWriter();
                        // PERBAIKAN: Scroll ke atas setelah loading selesai
                        window.scrollTo(0, 0);
                    }, 500);
                }, 1000);
            });
            
            // Mobile optimizations
            if (isMobile) {
                // Reduce animations for better performance
                document.body.style.setProperty('--animation-duration', '0.5s');
            }
        });
    </script>
</body>
</html>
